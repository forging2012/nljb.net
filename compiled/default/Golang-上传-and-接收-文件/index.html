<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Golang-上传-and-接收-文件</title>
  
    <meta name="author" content="nljb">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/twitter/stylesheets/bootstrap.min.css" type="text/css" rel="stylesheet" media="all">
<link href="/assets/twitter/stylesheets/style.css" type="text/css" rel="stylesheet" media="all">
<link href="/assets/twitter/widgets/google_prettify/stylesheets/twitter-bootstrap.css" type="text/css" rel="stylesheet" media="all">
 

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>

    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/">NLJB</a>
          <ul class="nav">
            
              


  <li><a href="/archive">Archive</a></li>


            
              


  <li><a href="/tags">Tags</a></li>


            
              


  <li><a href="/categories">Categories</a></li>


            
              


  <li><a href="/pages">Pages</a></li>


            
              


  <li><a href="/about">About Me</a></li>


            
          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="content">
        <div class="page-header">
  <h1>Golang-上传-and-接收-文件 </h1>
</div>

<div class="row">
  <div class="span10">
    <pre><code>package main

import (
    &quot;fmt&quot;
    &quot;io&quot;
    &quot;net/http&quot;
    &quot;log&quot;
)

// 获取大小的借口
type Sizer interface {
    Size() int64
}

// hello world, the web server
func HelloServer(w http.ResponseWriter, r *http.Request) {
    if &quot;POST&quot; == r.Method {
    file, _, err := r.FormFile(&quot;userfile&quot;)
    if err != nil {
        http.Error(w, err.Error(), 500)
        return
    }
    defer file.Close()
    f,err:=os.Create(&quot;filenametosaveas&quot;)
    defer f.Close()
    io.Copy(f,file)
fmt.Fprintf(w, &quot;上传文件的大小为: %d&quot;, file.(Sizer).Size())
    return
    }

    // 上传页面
    w.Header().Add(&quot;Content-Type&quot;, &quot;text/html&quot;)
    w.WriteHeader(200)
    html := `
&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;/hello&quot; method=&quot;POST&quot;&gt;
    Send this file: &lt;input name=&quot;userfile&quot; type=&quot;file&quot; /&gt;
    &lt;input type=&quot;submit&quot; value=&quot;Send File&quot; /&gt;
&lt;/form&gt;
`
    io.WriteString(w, html)
}

func main() {
    http.HandleFunc(&quot;/hello&quot;, HelloServer)
    err := http.ListenAndServe(&quot;:12345&quot;, nil)
    if err != nil {
    log.Fatal(&quot;ListenAndServe: &quot;, err)
    }
}

客户端上传文件代码：
 func Upload() (err error) {
    // Create buffer
    buf := new(bytes.Buffer) // caveat IMO dont use this for large files, \
    // create a tmpfile and assemble your multipart from there (not tested)
    w := multipart.NewWriter(buf)
    // Create file field
    fw, err := w.CreateFormFile(&quot;file&quot;, &quot;helloworld.go&quot;) //这里的file很重要，必须和服务器端的FormFile一致
    if err != nil {
    fmt.Println(&quot;c&quot;)
    return err
    }
    fd, err := os.Open(&quot;helloworld.go&quot;)
    if err != nil {
    fmt.Println(&quot;d&quot;)
    return err
    }
    defer fd.Close()
    // Write file field from file to upload
    _, err = io.Copy(fw, fd)
    if err != nil {
    fmt.Println(&quot;e&quot;)
    return err
    }
    // Important if you do not close the multipart writer you will not have a
    // terminating boundry
    w.Close()
    req, err := http.NewRequest(&quot;POST&quot;,&quot;http://192.168.2.127/configure.go?portId=2&quot;, buf)
    if err != nil {
    fmt.Println(&quot;f&quot;)
    return err
    }
    req.Header.Set(&quot;Content-Type&quot;, w.FormDataContentType())
      var client http.Client
    res, err := client.Do(req)
    if err != nil {
    fmt.Println(&quot;g&quot;)
    return err
    }
    io.Copy(os.Stderr, res.Body) // Replace this with Status.Code check
    fmt.Println(&quot;h&quot;)
    return err
}
</code></pre>

<hr />

<p>处理文件上传</p>

<p>你想处理一个由用户上传的文件，比如你正在建设一个类似Instagram的网站，你需要存储用户拍摄的照片。这种需求该如何实现呢？</p>

<p>要使表单能够上传文件，首先第一步就是要添加form的<code>enctype</code>属性，<code>enctype</code>属性有如下三种情况:</p>

<p>application/x-www-form-urlencoded   表示在发送前编码所有字符（默认）</p>

<p>multipart/form-data 不对字符编码。在使用包含文件上传控件的表单时，必须使用该值。</p>

<p>text/plain 空格转换为 &ldquo;+&rdquo; 加号，但不对特殊字符编码。</p>

<p>所以，表单的html代码应该类似于:</p>

<pre><code>&lt;html&gt;
&lt;head&gt;
&lt;title&gt;上传文件&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;http://127.0.0.1:9090/upload&quot; method=&quot;post&quot;&gt;
 &lt;input type=&quot;file&quot; name=&quot;uploadfile&quot; /&gt;
 &lt;input type=&quot;hidden&quot; name=&quot;token&quot; value=&quot;map[site:map[title:NLJB tagline:NLJB author:map[name:nljb email:nljb@nljb.net github:https://github.com/nulijiabei] navigation:[archive.html tags.html categories.html pages.html about.md] config:map[RuhohSpec:1 theme:twitter production_url:http://www.nljb.net posts:map[permalink:/:categories/:title/ summary_lines:20 latest:10 layout:post exclude:] pages:map[permalink:pretty layout:page exclude:] imgs:map[imgtag:&amp;lt;img src=&amp;#34;%s&amp;#34; alt=&amp;#34;&amp;#34; width=&amp;#34;600&amp;#34;&amp;gt; urlperfix:{{urls.media}}/ localdir:media/]]] data:map[title:NLJB tagline:NLJB author:map[name:nljb email:nljb@nljb.net github:https://github.com/nulijiabei] navigation:[archive.html tags.html categories.html pages.html about.md] config:map[RuhohSpec:1 theme:twitter production_url:http://www.nljb.net posts:map[permalink:/:categories/:title/ summary_lines:20 latest:10 layout:post exclude:] pages:map[permalink:pretty layout:page exclude:] imgs:map[imgtag:&amp;lt;img src=&amp;#34;%s&amp;#34; alt=&amp;#34;&amp;#34; width=&amp;#34;600&amp;#34;&amp;gt; urlperfix:{{urls.media}}/ localdir:media/]]] layouts:map[default:map[_content:0x108d3040] page:map[layout:default _content:0x108d3200] post:map[layout:default _content:0x108d3540]] theme:map[stylesheets:map[default:[bootstrap.min.css style.css] widgets:map[google_prettify:twitter-bootstrap.css]] javascripts:map[default:[]] manifest:map[author:Jacob Thornton and Mark Otto website:http://twitter.github.com/bootstrap]] urls:map[media:/assets/media theme:/assets/twitter theme_media:/assets/twitter/media theme_javascripts:/assets/twitter/javascripts theme_stylesheets:/assets/twitter/stylesheets base_path:/] db:map[pages:map[about.md:map[title:About Me description:&amp;lt;nil&amp;gt; _content:0x108e8360 id:about.md layout:page permalink:pretty url:/about] archive.html:map[description:&amp;lt;nil&amp;gt; _content:0x108e83e0 id:archive.html layout:page permalink:pretty title:Archive url:/archive] categories.html:map[description:&amp;lt;nil&amp;gt; _content:0x108e8460 id:categories.html layout:page permalink:pretty title:Categories url:/categories] index.html:map[title:努力加贝 description:&amp;lt;nil&amp;gt; _content:0x108e85a0 id:index.html layout:page permalink:pretty url:/] pages.html:map[description:&amp;lt;nil&amp;gt; _content:0x108e8620 id:pages.html layout:page permalink:pretty title:Pages url:/pages] tags.html:map[description:&amp;lt;nil&amp;gt; _content:0x108e86a0 id:tags.html layout:page permalink:pretty title:Tags url:/tags]] navigation:[archive.html tags.html categories.html pages.html about.md] posts:map[dictionary:map[posts/Bash-语法参数.md:map[title:Bash-语法参数 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090c280 layout:post tags:[system] id:posts/Bash-语法参数.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Bash-%E8%AF%AD%E6%B3%95%E5%8F%82%E6%95%B0/] posts/Golang-too_many_open_files-解决方法.md:map[title:Golang-too_many_open_files-解决方法 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108ca9e0 layout:post tags:[golang] id:posts/Golang-too_many_open_files-解决方法.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-too_many_open_files-%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/] posts/Golang-判断文件是否存在.md:map[title:Golang-判断文件是否存在 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090cb20 layout:post tags:[golang] id:posts/Golang-判断文件是否存在.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E5%88%A4%E6%96%AD%E6%96%87%E4%BB%B6%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8/] posts/Golang-反射篇.md:map[tags:[] id:posts/Golang-反射篇.md _date:2014-07-10 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E5%8F%8D%E5%B0%84%E7%AF%87/ title:Golang-反射篇 date:2014-07-10 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090cf00 layout:post] posts/Golang-语言文件操作.md:map[title:Golang-语言文件操作 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108d3b40 layout:post tags:[golang] id:posts/Golang-语言文件操作.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E8%AF%AD%E8%A8%80%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/] posts/Libev-初识.md:map[tags:[c++] id:posts/Libev-初识.md _date:2014-07-18 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Libev-%E5%88%9D%E8%AF%86/ title:Libev-初识 date:2014-07-18 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090cb00 layout:post] posts/Linux-ALSA-配置.md:map[tags:[system] id:posts/Linux-ALSA-配置.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Linux-ALSA-%E9%85%8D%E7%BD%AE/ title:Linux ALSA 配置 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090cee0 layout:post] posts/ulimit.md:map[tags:[system] id:posts/ulimit.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/ulimit/ title:ulimit date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090c320 layout:post] posts/命名规范-Java.md:map[tags:[java] id:posts/命名规范-Java.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83-Java/ title:命名规范-Java date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108d3500 layout:post] posts/通过代码了解-Golang-interface.md:map[tags:[golang] id:posts/通过代码了解-Golang-interface.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/%E9%80%9A%E8%BF%87%E4%BB%A3%E7%A0%81%E4%BA%86%E8%A7%A3-Golang-interface/ title:通过代码了解-Golang-interface date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x109a14a0 layout:post] posts/3G-网卡适配.md:map[tags:[system] id:posts/3G-网卡适配.md _date:2014-07-10 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/3G-%E7%BD%91%E5%8D%A1%E9%80%82%E9%85%8D/ title:3G-网卡适配 date:2014-07-10 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090c020 layout:post] posts/Go-Ping.md:map[tags:[golang] id:posts/Go-Ping.md _date:2014-07-03 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Go-Ping/ title:Go-Ping date:2014-07-03 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108e85c0 layout:post] posts/OpenVPN-时间错误会造成VPN无法正常连接.md:map[tags:[system] id:posts/OpenVPN-时间错误会造成VPN无法正常连接.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/OpenVPN-%E6%97%B6%E9%97%B4%E9%94%99%E8%AF%AF%E4%BC%9A%E9%80%A0%E6%88%90VPN%E6%97%A0%E6%B3%95%E6%AD%A3%E5%B8%B8%E8%BF%9E%E6%8E%A5/ title:OpenVPN-时间错误会造成VPN无法正常连接 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x10951560 layout:post] posts/x-go-binding.md:map[title:x-go-binding date:2014-07-03 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090c860 layout:post tags:[golang] id:posts/x-go-binding.md _date:2014-07-03 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/x-go-binding/] posts/内存系统打包方式.md:map[tags:[system] id:posts/内存系统打包方式.md _date:2014-07-03 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/%E5%86%85%E5%AD%98%E7%B3%BB%E7%BB%9F%E6%89%93%E5%8C%85%E6%96%B9%E5%BC%8F/ title:内存系统打包方式 date:2014-07-03 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108e8280 layout:post] posts/求两个矩阵相交面积.md:map[tags:[golang] id:posts/求两个矩阵相交面积.md _date:2014-07-03 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/%E6%B1%82%E4%B8%A4%E4%B8%AA%E7%9F%A9%E9%98%B5%E7%9B%B8%E4%BA%A4%E9%9D%A2%E7%A7%AF/ title:求两个矩阵相交面积 date:2014-07-03 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108caa80 layout:post] posts/HTTP-Client-Transport.md:map[tags:[golang] id:posts/HTTP-Client-Transport.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/HTTP-Client-Transport/ title:HTTP-Client-Transport date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090c340 layout:post] posts/Linux-启动时显示详细启动过程.md:map[title:Linux-启动时显示详细启动过程 date:2014-07-03 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108ca060 layout:post tags:[system] id:posts/Linux-启动时显示详细启动过程.md _date:2014-07-03 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Linux-%E5%90%AF%E5%8A%A8%E6%97%B6%E6%98%BE%E7%A4%BA%E8%AF%A6%E7%BB%86%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B/] posts/Linux-驱动加载.md:map[title:Linux-驱动加载 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x10896c20 layout:post tags:[system] id:posts/Linux-驱动加载.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Linux-%E9%A9%B1%E5%8A%A8%E5%8A%A0%E8%BD%BD/] posts/系统分隔符-Windows-and-Linux.md:map[title:系统分隔符-Windows-and-Linux date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x10896f80 layout:post tags:[system] id:posts/系统分隔符-Windows-and-Linux.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/%E7%B3%BB%E7%BB%9F%E5%88%86%E9%9A%94%E7%AC%A6-Windows-and-Linux/] posts/Golang-读取文件信息-FileInfo-and-MD5.md:map[title:Golang-读取文件信息-FileInfo-and-MD5 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108ca2a0 layout:post tags:[golang] id:posts/Golang-读取文件信息-FileInfo-and-MD5.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E4%BF%A1%E6%81%AF-FileInfo-and-MD5/] posts/MBR-引导区文件.md:map[title:MBR-引导区文件 date:2014-07-10 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x109513a0 layout:post tags:[system] id:posts/MBR-引导区文件.md _date:2014-07-10 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/MBR-%E5%BC%95%E5%AF%BC%E5%8C%BA%E6%96%87%E4%BB%B6/] posts/Golang-内置的类型和函数.md:map[tags:[golang] id:posts/Golang-内置的类型和函数.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E5%86%85%E7%BD%AE%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%87%BD%E6%95%B0/ title:Golang-内置的类型和函数 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090c460 layout:post] posts/Golang-设置系统时间.md:map[tags:[golang] id:posts/Golang-设置系统时间.md _date:2014-07-03 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E8%AE%BE%E7%BD%AE%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4/ title:Golang-设置系统时间 date:2014-07-03 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108d3740 layout:post] posts/Shell-删除文件中某一行方法.md:map[tags:[system] id:posts/Shell-删除文件中某一行方法.md _date:2014-07-10 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Shell-%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E4%B8%AD%E6%9F%90%E4%B8%80%E8%A1%8C%E6%96%B9%E6%B3%95/ title:Shell-删除文件中某一行方法 date:2014-07-10 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x109a16c0 layout:post] posts/old_passwords.md:map[tags:[system] id:posts/old_passwords.md _date:2014-07-10 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/old_passwords/ title:old_passwords date:2014-07-10 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x10951940 layout:post] posts/命名规范-Golang.md:map[tags:[golang] id:posts/命名规范-Golang.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83-Golang/ title:命名规范-Golang date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108e8e00 layout:post] posts/在Golang中获取系统的磁盘内存占用.md:map[title:在Golang中获取系统的磁盘内存占用 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108d3ac0 layout:post tags:[golang] id:posts/在Golang中获取系统的磁盘内存占用.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/%E5%9C%A8Golang%E4%B8%AD%E8%8E%B7%E5%8F%96%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%A3%81%E7%9B%98%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8/] posts/Error-in-service-module.md:map[tags:[system] id:posts/Error-in-service-module.md _date:2014-07-09 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Error-in-service-module/ title:Error-in-service-module date:2014-07-09 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108e82c0 layout:post] posts/Golang-传递-小抄.md:map[tags:[golang] id:posts/Golang-传递-小抄.md _date:2014-07-03 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E4%BC%A0%E9%80%92-%E5%B0%8F%E6%8A%84/ title:Golang 传递 小抄 date:2014-07-03 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x10896e00 layout:post] posts/Linux-内核升级-内核编译步骤.md:map[title:Linux-内核升级-内核编译步骤 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108d3c20 layout:post tags:[system] id:posts/Linux-内核升级-内核编译步骤.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Linux-%E5%86%85%E6%A0%B8%E5%8D%87%E7%BA%A7-%E5%86%85%E6%A0%B8%E7%BC%96%E8%AF%91%E6%AD%A5%E9%AA%A4/] posts/Linux-系统时区修改.md:map[title:Linux-系统时区修改 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108ca500 layout:post tags:[system] id:posts/Linux-系统时区修改.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Linux-%E7%B3%BB%E7%BB%9F%E6%97%B6%E5%8C%BA%E4%BF%AE%E6%94%B9/] posts/Linux下Shell脚本输出带颜色文字.md:map[tags:[system] id:posts/Linux下Shell脚本输出带颜色文字.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Linux%E4%B8%8BShell%E8%84%9A%E6%9C%AC%E8%BE%93%E5%87%BA%E5%B8%A6%E9%A2%9C%E8%89%B2%E6%96%87%E5%AD%97/ title:Linux下Shell脚本输出带颜色文字 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x10951140 layout:post] posts/SSH--C-压缩传输.md:map[title:SSH--C-压缩传输 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x109a1320 layout:post tags:[system] id:posts/SSH--C-压缩传输.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/SSH--C-%E5%8E%8B%E7%BC%A9%E4%BC%A0%E8%BE%93/] posts/对于WIFI密码中带有英文字符或特殊字符.md:map[tags:[system] id:posts/对于WIFI密码中带有英文字符或特殊字符.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/%E5%AF%B9%E4%BA%8EWIFI%E5%AF%86%E7%A0%81%E4%B8%AD%E5%B8%A6%E6%9C%89%E8%8B%B1%E6%96%87%E5%AD%97%E7%AC%A6%E6%88%96%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6/ title:对于WIFI密码中带有英文字符或特殊字符 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108ca120 layout:post] posts/Golang-Get-exit-code.md:map[title:Golang-Get-exit-code date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108e8b00 layout:post tags:[golang] id:posts/Golang-Get-exit-code.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-Get-exit-code/] posts/Golang-int-转-string.md:map[tags:[golang] id:posts/Golang-int-转-string.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-int-%E8%BD%AC-string/ title:Golang-int-转-string date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108ca400 layout:post] posts/Golang-上传-and-接收-文件.md:map[title:Golang-上传-and-接收-文件 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108caf80 layout:post tags:[golang] id:posts/Golang-上传-and-接收-文件.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E4%B8%8A%E4%BC%A0-and-%E6%8E%A5%E6%94%B6-%E6%96%87%E4%BB%B6/] posts/Linux-修改MAC地址方法.md:map[tags:[system] id:posts/Linux-修改MAC地址方法.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Linux-%E4%BF%AE%E6%94%B9MAC%E5%9C%B0%E5%9D%80%E6%96%B9%E6%B3%95/ title:Linux-修改MAC地址方法 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108d3700 layout:post] posts/SDL-在屏幕上输出一张图片.md:map[title:SDL-在屏幕上输出一张图片 date:2014-07-03 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x109a10c0 layout:post tags:[ffmpeg] id:posts/SDL-在屏幕上输出一张图片.md _date:2014-07-03 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/SDL-%E5%9C%A8%E5%B1%8F%E5%B9%95%E4%B8%8A%E8%BE%93%E5%87%BA%E4%B8%80%E5%BC%A0%E5%9B%BE%E7%89%87/] posts/Systemd-FAQ-简体中文.md:map[tags:[system] id:posts/Systemd-FAQ-简体中文.md _date:2014-07-08 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Systemd-FAQ-%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87/ title:Systemd-FAQ-简体中文 date:2014-07-08 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x109a18e0 layout:post] posts/一个简单的播放器.md:map[tags:[ffmpeg] id:posts/一个简单的播放器.md _date:2014-07-03 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E6%92%AD%E6%94%BE%E5%99%A8/ title:一个简单的播放器 date:2014-07-03 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090cc80 layout:post] posts/静态方法跟实例方法.md:map[tags:[笔记] id:posts/静态方法跟实例方法.md _date:2014-07-03 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95%E8%B7%9F%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95/ title:静态方法跟实例方法 date:2014-07-03 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x109a1700 layout:post] posts/Golang-Go语言断点续传.md:map[title:Golang Go语言断点续传 date:2014-07-03 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108e8f60 layout:post tags:[golang] id:posts/Golang-Go语言断点续传.md _date:2014-07-03 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-Go%E8%AF%AD%E8%A8%80%E6%96%AD%E7%82%B9%E7%BB%AD%E4%BC%A0/] posts/Golang-udp-服务端-and-客户端.md:map[title:Golang-udp-服务端-and-客户端 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108cac60 layout:post tags:[] id:posts/Golang-udp-服务端-and-客户端.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-udp-%E6%9C%8D%E5%8A%A1%E7%AB%AF-and-%E5%AE%A2%E6%88%B7%E7%AB%AF/] posts/Golang-字符串操作处理包-Strings.md:map[title:Golang-字符串操作处理包-Strings date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090c3e0 layout:post tags:[golang] id:posts/Golang-字符串操作处理包-Strings.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C%E5%A4%84%E7%90%86%E5%8C%85-Strings/] posts/Golang-绘图技术-image-draw-包介绍.md:map[tags:[golang] id:posts/Golang-绘图技术-image-draw-包介绍.md _date:2014-07-09 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E7%BB%98%E5%9B%BE%E6%8A%80%E6%9C%AF-image-draw-%E5%8C%85%E4%BB%8B%E7%BB%8D/ title:Golang-绘图技术-image-draw-包介绍 date:2014-07-09 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108d33a0 layout:post] posts/Linux-下强制Copy文件.md:map[tags:[system] id:posts/Linux-下强制Copy文件.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Linux-%E4%B8%8B%E5%BC%BA%E5%88%B6Copy%E6%96%87%E4%BB%B6/ title:Linux-下强制Copy文件 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108e8860 layout:post] posts/Linux-下隐藏鼠标的方法.md:map[tags:[system] id:posts/Linux-下隐藏鼠标的方法.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Linux-%E4%B8%8B%E9%9A%90%E8%97%8F%E9%BC%A0%E6%A0%87%E7%9A%84%E6%96%B9%E6%B3%95/ title:Linux-下隐藏鼠标的方法 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108d3280 layout:post] posts/Linux-通过-proc-查看硬件信息.md:map[tags:[system] id:posts/Linux-通过-proc-查看硬件信息.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Linux-%E9%80%9A%E8%BF%87-proc-%E6%9F%A5%E7%9C%8B%E7%A1%AC%E4%BB%B6%E4%BF%A1%E6%81%AF/ title:Linux-通过-proc-查看硬件信息 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108caa20 layout:post] posts/Python-auto_network.md:map[title:Python-auto_network date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x10951d40 layout:post tags:[python] id:posts/Python-auto_network.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Python-auto_network/] posts/adb常用命令.md:map[title:adb常用命令 date:2014-07-03 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x10951400 layout:post tags:[android] id:posts/adb常用命令.md _date:2014-07-03 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/adb%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/] posts/Golang-strconv.md:map[title:Golang-strconv date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108ca6e0 layout:post tags:[golang] id:posts/Golang-strconv.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-strconv/] posts/Golang-创建守护进程.md:map[tags:[golang] id:posts/Golang-创建守护进程.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E5%88%9B%E5%BB%BA%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B/ title:Golang-创建守护进程 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090c940 layout:post] posts/Golang-导出内容到-Excel.md:map[tags:[golang] id:posts/Golang-导出内容到-Excel.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E5%AF%BC%E5%87%BA%E5%86%85%E5%AE%B9%E5%88%B0-Excel/ title:Golang-导出内容到-Excel date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090cc00 layout:post] posts/Linux-下设置屏幕分辨率方法.md:map[title:Linux-下设置屏幕分辨率方法 date:2014-07-03 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108e8e20 layout:post tags:[system] id:posts/Linux-下设置屏幕分辨率方法.md _date:2014-07-03 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Linux-%E4%B8%8B%E8%AE%BE%E7%BD%AE%E5%B1%8F%E5%B9%95%E5%88%86%E8%BE%A8%E7%8E%87%E6%96%B9%E6%B3%95/] posts/PXE-引导纯内存OpenSUSE方案.md:map[title:PXE引导纯内存OpenSUSE方案 date:2014-07-03 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x10951740 layout:post tags:[system] id:posts/PXE-引导纯内存OpenSUSE方案.md _date:2014-07-03 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/PXE%E5%BC%95%E5%AF%BC%E7%BA%AF%E5%86%85%E5%AD%98OpenSUSE%E6%96%B9%E6%A1%88/] posts/SSH-远程登录慢的原因.md:map[tags:[system] id:posts/SSH-远程登录慢的原因.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/SSH-%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95%E6%85%A2%E7%9A%84%E5%8E%9F%E5%9B%A0/ title:SSH-远程登录慢的原因 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x109a1500 layout:post] posts/命名规范-Bash.md:map[tags:[system] id:posts/命名规范-Bash.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83-Bash/ title:命名规范-Bash date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108e8920 layout:post] posts/Golang-GoSerial.md:map[title:Golang-GoSerial date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108e8d40 layout:post tags:[golang] id:posts/Golang-GoSerial.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-GoSerial/] posts/Golang-Screenshot.md:map[title:Golang-Screenshot date:2014-07-03 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108d35c0 layout:post tags:[golang] id:posts/Golang-Screenshot.md _date:2014-07-03 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-Screenshot/] posts/Golang-正则-regexp.md:map[tags:[golang] id:posts/Golang-正则-regexp.md _date:2014-07-10 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E6%AD%A3%E5%88%99-regexp/ title:Golang-正则-regexp date:2014-07-10 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108e8900 layout:post] posts/exec.Command-status.ExitStatus.md:map[title:exec.Command-status.ExitStatus date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x10951660 layout:post tags:[golang] id:posts/exec.Command-status.ExitStatus.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/exec.Command-status.ExitStatus/] posts/Golang-cmd.Process.md:map[title:Golang-cmd.Process date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108d3dc0 layout:post tags:[golang] id:posts/Golang-cmd.Process.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-cmd.Process/] posts/Golang-文件操作.md:map[tags:[golang] id:posts/Golang-文件操作.md _date:2014-07-15 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/ title:Golang-文件操作 date:2014-07-15 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108e8020 layout:post] posts/Golang-绘图基础-不同的输出源.md:map[tags:[golang] id:posts/Golang-绘图基础-不同的输出源.md _date:2014-07-09 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E7%BB%98%E5%9B%BE%E5%9F%BA%E7%A1%80-%E4%B8%8D%E5%90%8C%E7%9A%84%E8%BE%93%E5%87%BA%E6%BA%90/ title:Golang-绘图基础-不同的输出源 date:2014-07-09 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108e8d80 layout:post] posts/Python-New-Danoo_Auto_Network.md:map[tags:[python] id:posts/Python-New-Danoo_Auto_Network.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Python-New-Danoo_Auto_Network/ title:Python-New-Danoo_Auto_Network date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x10951920 layout:post] posts/Tinycore-Linux.md:map[title:Tinycore-Linux date:2014-07-10 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x109a1b20 layout:post tags:[system] id:posts/Tinycore-Linux.md _date:2014-07-10 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Tinycore-Linux/] posts/Xorg.md:map[tags:[system] id:posts/Xorg.md _date:2014-07-15 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Xorg/ title:Xorg date:2014-07-15 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x10951120 layout:post] posts/把Go程序变小的办法.md:map[tags:[golang] id:posts/把Go程序变小的办法.md _date:2014-07-03 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/%E6%8A%8AGo%E7%A8%8B%E5%BA%8F%E5%8F%98%E5%B0%8F%E7%9A%84%E5%8A%9E%E6%B3%95/ title:把Go程序变小的办法 date:2014-07-03 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108ca5a0 layout:post] posts/Golang-绘图基础-绘制简单图形.md:map[title:Golang-绘图基础-绘制简单图形 date:2014-07-09 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108d3020 layout:post tags:[golang] id:posts/Golang-绘图基础-绘制简单图形.md _date:2014-07-09 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E7%BB%98%E5%9B%BE%E5%9F%BA%E7%A1%80-%E7%BB%98%E5%88%B6%E7%AE%80%E5%8D%95%E5%9B%BE%E5%BD%A2/] posts/Jsoncpp的使用.md:map[tags:[笔记] id:posts/Jsoncpp的使用.md _date:2014-07-03 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Jsoncpp%E7%9A%84%E4%BD%BF%E7%94%A8/ title:Jsoncpp的使用 date:2014-07-03 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090c760 layout:post] posts/Linux-下添加路由的方法.md:map[title:Linux-下添加路由的方法 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108e8b60 layout:post tags:[system] id:posts/Linux-下添加路由的方法.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Linux-%E4%B8%8B%E6%B7%BB%E5%8A%A0%E8%B7%AF%E7%94%B1%E7%9A%84%E6%96%B9%E6%B3%95/] posts/Python-New-danoo_3g_dog.py-and-danoo_3g_dial.py.md:map[tags:[python] id:posts/Python-New-danoo_3g_dog.py-and-danoo_3g_dial.py.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Python-New-danoo_3g_dog.py-and-danoo_3g_dial.py/ title:Python-New-danoo_3g_dog.py-and-danoo_3g_dial.py date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x10951ae0 layout:post] posts/udev-mount-umount.md:map[tags:[system] id:posts/udev-mount-umount.md _date:2014-07-15 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/udev-mount-umount/ title:udev-mount-umount date:2014-07-15 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x10951f40 layout:post] posts/Golang-Time.md:map[title:Golang-Time date:2014-07-15 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108d39e0 layout:post tags:[system] id:posts/Golang-Time.md _date:2014-07-15 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-Time/] posts/Golang-使用命令行参数.md:map[tags:[golang] id:posts/Golang-使用命令行参数.md _date:2014-07-15 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0/ title:Golang-使用命令行参数 date:2014-07-15 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090c200 layout:post] posts/Golang-字体-FreeType-go.md:map[title:Golang-字体-FreeType-go date:2014-07-09 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090c0e0 layout:post tags:[] id:posts/Golang-字体-FreeType-go.md _date:2014-07-09 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E5%AD%97%E4%BD%93-FreeType-go/] posts/Golang-标准库解读-基本的IO接口.md:map[tags:[golang] id:posts/Golang-标准库解读-基本的IO接口.md _date:2014-07-10 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E6%A0%87%E5%87%86%E5%BA%93%E8%A7%A3%E8%AF%BB-%E5%9F%BA%E6%9C%AC%E7%9A%84IO%E6%8E%A5%E5%8F%A3/ title:Golang-标准库解读-基本的IO接口 date:2014-07-10 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108e8500 layout:post] posts/Linux-date-命令使用技巧.md:map[title:Linux-date-命令使用技巧 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108e8420 layout:post tags:[system] id:posts/Linux-date-命令使用技巧.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Linux-date-%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/] posts/网线八根线的作用.md:map[tags:[system] id:posts/网线八根线的作用.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/%E7%BD%91%E7%BA%BF%E5%85%AB%E6%A0%B9%E7%BA%BF%E7%9A%84%E4%BD%9C%E7%94%A8/ title:网线八根线的作用 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x109a1260 layout:post] posts/Connection-close.md:map[title:Connection-close date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090c4c0 layout:post tags:[golang] id:posts/Connection-close.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Connection-close/] posts/Golang-http-超时设置方法.md:map[tags:[golang] id:posts/Golang-http-超时设置方法.md _date:2014-07-03 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-http-%E8%B6%85%E6%97%B6%E8%AE%BE%E7%BD%AE%E6%96%B9%E6%B3%95/ title:Golang http 超时设置方法 date:2014-07-03 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108ca100 layout:post] posts/Date-命令设置系统时间的方法.md:map[tags:[system] id:posts/Date-命令设置系统时间的方法.md _date:2014-07-10 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Date-%E5%91%BD%E4%BB%A4%E8%AE%BE%E7%BD%AE%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4%E7%9A%84%E6%96%B9%E6%B3%95/ title:Date-命令设置系统时间的方法 date:2014-07-10 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090c6a0 layout:post] posts/Golang-Raster-字体颜色.md:map[tags:[golang] id:posts/Golang-Raster-字体颜色.md _date:2014-07-09 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-Raster-%E5%AD%97%E4%BD%93%E9%A2%9C%E8%89%B2/ title:Golang-Raster-字体颜色 date:2014-07-09 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108d3220 layout:post] posts/Golang-官方图片库.md:map[tags:[golang] id:posts/Golang-官方图片库.md _date:2014-07-09 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E5%AE%98%E6%96%B9%E5%9B%BE%E7%89%87%E5%BA%93/ title:Golang-官方图片库 date:2014-07-09 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090c720 layout:post] posts/Golang-实现图片缩放.md:map[title:Golang-实现图片缩放 date:2014-07-03 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090c9a0 layout:post tags:[golang] id:posts/Golang-实现图片缩放.md _date:2014-07-03 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E7%BC%A9%E6%94%BE/] posts/Golang-纳秒级别-局域网-广播-时间同步.md:map[title:Golang-纳秒级别-局域网-广播-时间同步 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108e8b40 layout:post tags:[golang] id:posts/Golang-纳秒级别-局域网-广播-时间同步.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E7%BA%B3%E7%A7%92%E7%BA%A7%E5%88%AB-%E5%B1%80%E5%9F%9F%E7%BD%91-%E5%B9%BF%E6%92%AD-%E6%97%B6%E9%97%B4%E5%90%8C%E6%AD%A5/] posts/Golang-读取字符串流-ICCID.md:map[title:Golang-读取字符串流-ICCID date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108d3f60 layout:post tags:[golang] id:posts/Golang-读取字符串流-ICCID.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E8%AF%BB%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%B5%81-ICCID/] posts/Linux-通过文件修改密码.md:map[tags:[system] id:posts/Linux-通过文件修改密码.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Linux-%E9%80%9A%E8%BF%87%E6%96%87%E4%BB%B6%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81/ title:Linux-通过文件修改密码 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108cade0 layout:post] posts/Python-danoo_3g_dog.py-and-danoo_3g_dial.py.md:map[title:Python-danoo_3g_dog.py-and-danoo_3g_dial.py date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x10951f00 layout:post tags:[python] id:posts/Python-danoo_3g_dog.py-and-danoo_3g_dial.py.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Python-danoo_3g_dog.py-and-danoo_3g_dial.py/] posts/用sshpass实现ssh的自动登陆.md:map[tags:[system] id:posts/用sshpass实现ssh的自动登陆.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/%E7%94%A8sshpass%E5%AE%9E%E7%8E%B0ssh%E7%9A%84%E8%87%AA%E5%8A%A8%E7%99%BB%E9%99%86/ title:用sshpass实现ssh的自动登陆 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108caee0 layout:post] posts/Go-ioutil-翻译.md:map[tags:[golang] id:posts/Go-ioutil-翻译.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Go-ioutil-%E7%BF%BB%E8%AF%91/ title:Go-ioutil-翻译 date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108e88a0 layout:post] posts/Golang-压缩-解压-Tar.Gz.md:map[title:Golang-压缩-解压-Tar.Gz date:2014-07-04 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x1090cd00 layout:post tags:[golang] id:posts/Golang-压缩-解压-Tar.Gz.md _date:2014-07-04 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang-%E5%8E%8B%E7%BC%A9-%E8%A7%A3%E5%8E%8B-Tar.Gz/] posts/Golang之路-定时任务.md:map[tags:[golang] id:posts/Golang之路-定时任务.md _date:2014-07-03 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/Golang%E4%B9%8B%E8%B7%AF-%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/ title:Golang之路-定时任务 date:2014-07-03 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x108ca5c0 layout:post] posts/socket.cpp-监听解码.md:map[tags:[笔记] id:posts/socket.cpp-监听解码.md _date:2014-07-03 00:00:00 +0000 UTC permalink:/:categories/:title/ url:/default/socket.cpp-%E7%9B%91%E5%90%AC%E8%A7%A3%E7%A0%81/ title:socket.cpp-监听解码 date:2014-07-03 description:&amp;lt;nil&amp;gt; categories:[default] _content:0x10951c40 layout:post]] tags:map[golang:0x109a17c0 python:0x109a1d40 system:0x109a1da0 笔记:0x109a1f20 c++:0x10996500 java:0x10996720 ffmpeg:0x10996cc0 android:0x10996ea0] categories:map[default:0x109a1800] chronological:[posts/Libev-初识.md posts/udev-mount-umount.md posts/Xorg.md posts/Golang-文件操作.md posts/Golang-使用命令行参数.md posts/Golang-Time.md posts/old_passwords.md posts/Tinycore-Linux.md posts/Shell-删除文件中某一行方法.md posts/MBR-引导区文件.md posts/Golang-正则-regexp.md posts/Golang-标准库解读-基本的IO接口.md posts/Golang-反射篇.md posts/Date-命令设置系统时间的方法.md posts/3G-网卡适配.md posts/Golang-绘图技术-image-draw-包介绍.md posts/Golang-绘图基础-绘制简单图形.md posts/Golang-绘图基础-不同的输出源.md posts/Golang-官方图片库.md posts/Golang-字体-FreeType-go.md posts/Golang-Raster-字体颜色.md posts/Error-in-service-module.md posts/Systemd-FAQ-简体中文.md posts/通过代码了解-Golang-interface.md posts/网线八根线的作用.md posts/系统分隔符-Windows-and-Linux.md posts/用sshpass实现ssh的自动登陆.md posts/对于WIFI密码中带有英文字符或特殊字符.md posts/在Golang中获取系统的磁盘内存占用.md posts/命名规范-Java.md posts/命名规范-Golang.md posts/命名规范-Bash.md posts/ulimit.md posts/exec.Command-status.ExitStatus.md posts/SSH-远程登录慢的原因.md posts/SSH--C-压缩传输.md posts/Python-danoo_3g_dog.py-and-danoo_3g_dial.py.md posts/Python-auto_network.md posts/Python-New-danoo_3g_dog.py-and-danoo_3g_dial.py.md posts/Python-New-Danoo_Auto_Network.md posts/OpenVPN-时间错误会造成VPN无法正常连接.md posts/Linux下Shell脚本输出带颜色文字.md posts/Linux-驱动加载.md posts/Linux-通过文件修改密码.md posts/Linux-通过-proc-查看硬件信息.md posts/Linux-系统时区修改.md posts/Linux-内核升级-内核编译步骤.md posts/Linux-修改MAC地址方法.md posts/Linux-下隐藏鼠标的方法.md posts/Linux-下添加路由的方法.md posts/Linux-下强制Copy文件.md posts/Linux-date-命令使用技巧.md posts/Linux-ALSA-配置.md posts/HTTP-Client-Transport.md posts/Golang-读取文件信息-FileInfo-and-MD5.md posts/Golang-读取字符串流-ICCID.md posts/Golang-语言文件操作.md posts/Golang-纳秒级别-局域网-广播-时间同步.md posts/Golang-导出内容到-Excel.md posts/Golang-字符串操作处理包-Strings.md posts/Golang-压缩-解压-Tar.Gz.md posts/Golang-判断文件是否存在.md posts/Golang-创建守护进程.md posts/Golang-内置的类型和函数.md posts/Golang-上传-and-接收-文件.md posts/Golang-udp-服务端-and-客户端.md posts/Golang-too_many_open_files-解决方法.md posts/Golang-strconv.md posts/Golang-int-转-string.md posts/Golang-cmd.Process.md posts/Golang-GoSerial.md posts/Golang-Get-exit-code.md posts/Go-ioutil-翻译.md posts/Connection-close.md posts/Bash-语法参数.md posts/静态方法跟实例方法.md posts/求两个矩阵相交面积.md posts/把Go程序变小的办法.md posts/内存系统打包方式.md posts/一个简单的播放器.md posts/x-go-binding.md posts/socket.cpp-监听解码.md posts/adb常用命令.md posts/SDL-在屏幕上输出一张图片.md posts/PXE-引导纯内存OpenSUSE方案.md posts/Linux-启动时显示详细启动过程.md posts/Linux-下设置屏幕分辨率方法.md posts/Jsoncpp的使用.md posts/Golang之路-定时任务.md posts/Golang-设置系统时间.md posts/Golang-实现图片缩放.md posts/Golang-传递-小抄.md posts/Golang-http-超时设置方法.md posts/Golang-Screenshot.md posts/Golang-Go语言断点续传.md posts/Go-Ping.md] collated:[0x109a1860]]]]&quot;/&gt;
 &lt;input type=&quot;submit&quot; value=&quot;upload&quot; /&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>在服务器端，我们增加一个handlerFunc:</p>

<pre><code>http.HandleFunc(&quot;/upload&quot;, upload)

// 处理/upload 逻辑
func upload(w http.ResponseWriter, r *http.Request) {
    fmt.Println(&quot;method:&quot;, r.Method) //获取请求的方法
    if r.Method == &quot;GET&quot; {
        crutime := time.Now().Unix()
        h := md5.New()
        io.WriteString(h, strconv.FormatInt(crutime, 10))
        token := fmt.Sprintf(&quot;%x&quot;, h.Sum(nil))
        t, _ := template.ParseFiles(&quot;upload.gtpl&quot;)
        t.Execute(w, token)
    } else {
        r.ParseMultipartForm(32 &lt;&lt; 20)
        file, handler, err := r.FormFile(&quot;uploadfile&quot;)
        if err != nil {
            fmt.Println(err)
            return
        }
        defer file.Close()
        fmt.Fprintf(w, &quot;%v&quot;, handler.Header)
        f, err := os.OpenFile(&quot;./test/&quot;+handler.Filename, os.O_WRONLY|os.O_CREATE, 0666)
        if err != nil {
            fmt.Println(err)
            return
        }
        defer f.Close()
        io.Copy(f, file)
    }
}
</code></pre>

<p>通过上面的代码可以看到，处理文件上传我们需要调用<code>r.ParseMultipartForm</code>，</p>

<p>里面的参数表示<code>maxMemory</code>，调用<code>ParseMultipartForm</code>之后，</p>

<p>上传的文件存储在<code>maxMemory</code>大小的内存里面，如果文件大小超过了<code>maxMemory</code>，那么剩下的部分将存储在系统的临时文件中。</p>

<p>我们可以通过<code>r.FormFile</code>获取上面的文件句柄，然后实例中使用了<code>io.Copy</code>来存储文件。</p>

<p>获取其他非文件字段信息的时候就不需要调用<code>r.ParseForm</code>，因为在需要的时候Go自动会去调用。而且<code>ParseMultipartForm</code>调用一次之后，后面再次调用不会再有效果。</p>

<p>通过上面的实例我们可以看到我们上传文件主要三步处理：</p>

<pre><code>1. 表单中增加enctype=&quot;multipart/form-data&quot;
2. 服务端调用`r.ParseMultipartForm`,把上传的文件存储在内存和临时文件中
3. 使用`r.FormFile`获取文件句柄，然后对文件进行存储等处理。
</code></pre>

<p>文件handler是multipart.FileHeader,里面存储了如下结构信息</p>

<pre><code>type FileHeader struct {
Filename string
Header   textproto.MIMEHeader
// contains filtered or unexported fields
}
</code></pre>

<p>我们通过上面的实例代码打印出来上传文件的信息如下</p>

<pre><code>![](images/4.5.upload2.png?raw=true)
</code></pre>

<p>打印文件上传后服务器端接受的信息</p>

<h2><a style="display: block;" name="客户端上传文件" href="#客户端上传文件"></a>客户端上传文件</h2>

<p>我们上面的例子演示了如何通过表单上传文件，然后在服务器端处理文件，</p>

<p>其实Go支持模拟客户端表单功能支持文件上传，详细用法请看如下示例：</p>

<pre><code>package main

import (
&quot;bytes&quot;
&quot;fmt&quot;
&quot;io&quot;
&quot;io/ioutil&quot;
&quot;mime/multipart&quot;
&quot;net/http&quot;
&quot;os&quot;
)

func postFile(filename string, targetUrl string) error {
    bodyBuf := &amp;bytes.Buffer{}
    bodyWriter := multipart.NewWriter(bodyBuf)

    //关键的一步操作
    fileWriter, err := bodyWriter.CreateFormFile(&quot;uploadfile&quot;, filename)
    if err != nil {
        fmt.Println(&quot;error writing to buffer&quot;)
        return err
    }

    //打开文件句柄操作
    fh, err := os.Open(filename)
    if err != nil {
        fmt.Println(&quot;error opening file&quot;)
        return err
    }

    //iocopy
    _, err = io.Copy(fileWriter, fh)
    if err != nil {
        return err
    }

    contentType := bodyWriter.FormDataContentType()
    bodyWriter.Close()

    resp, err := http.Post(targetUrl, contentType, bodyBuf)
    if err != nil {
        return err
    }
    defer resp.Body.Close()
    resp_body, err := ioutil.ReadAll(resp.Body)
    if err != nil {
        return err
    }
    fmt.Println(resp.Status)
    fmt.Println(string(resp_body))
    return nil
}

// sample usage
func main() {
    target_url := &quot;http://localhost:9090/upload&quot;
    filename := &quot;./astaxie.pdf&quot;
    postFile(filename, target_url)
}
</code></pre>

<p>上面的例子详细展示了客户端如何向服务器上传一个文件的例子，</p>

<p>客户端通过multipart.Write把文件的文本流写入一个缓存中，然后调用http的Post方法把缓存传到服务器。</p>

<p>如果你还有其他普通字段例如username之类的需要同时写入，那么可以调用multipart的WriteField方法写很多其他类似的字段。</p>

    <hr>
    <div class="pagination">
      <ul>
        <ul>
          
            <li class="prev"><a href="/default/Golang-%E5%86%85%E7%BD%AE%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%87%BD%E6%95%B0/" title="Golang-内置的类型和函数">&larr; Previous</a></li>
          
          

            <li><a href="/archive">Archive</a></li>

          
            <li class="next"><a href="/default/Golang-udp-%E6%9C%8D%E5%8A%A1%E7%AB%AF-and-%E5%AE%A2%E6%88%B7%E7%AB%AF/" title="Golang-udp-服务端-and-客户端">Next &rarr;</a></li>
          
          
        </ul>
      </ul>
    </div>
    <hr>
   <!-- 
<div id="disqus_thread"></div>
<script>
    var disqus_developer = 1;
    var disqus_shortname = 'jekyllbootstrap'; // required: replace example with your forum shortname
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
 -->
  </div>
  
  <div class="span2">
    <h4>Published</h4>
    <div class="date"><span>2014-07-04</span></div>
    <br>
    <h4>Categories</h4>
    <ul class="tag_box">
    
      <li>
  <a href="/categories/#default-ref">default <span>96</span></a>
</li>
    
    </ul>
    <br>
    <h4>Tags</h4>
    <ul class="tag_box">
    
      <li>
  <a href="/tags/#golang-ref">golang <span>44</span></a>
</li>
    
    </ul>
  </div>
</div>

      </div>

      <footer>
        <p>&copy; nljb 2014
          with help from <a href="http://github.com/wendal/gor" target="_blank" title="Gor -- Fast Blog">Gor</a>
	  and Idea from <a href="http://ruhoh.com" target="_blank" title="The Definitive Technical Blogging Framework">ruhoh</a>
        </p>
      </footer>

    </div> <!-- /container -->

    
<script src="http://cdnjs.cloudflare.com/ajax/libs/prettify/188.0.0/prettify.js"></script>
<script>
  var pres = document.getElementsByTagName("pre");
  for (var i=0; i < pres.length; ++i) {
    pres[i].className = "prettyprint linenums";
  }
  prettyPrint();
</script>

    
<script type="text/javascript">

  var _gaq = _gaq || [];
  var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-123-12']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
  </body>
</html>

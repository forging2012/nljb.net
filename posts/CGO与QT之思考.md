---
title: CGO与QT之思考
date: '2015-02-10'
description:
categories:

tags:golang

---

### CGO 与 QT ，纯代表个人想法

>

一，为什么用CGO和QT写界面，因为有一群人已经爱上了GO.

(简洁，快速开发，甚至自己积累了很多的方法，框架等等.)

二，为什么用CGO和QT写界面，因为GO根本写不了界面，没办法

(又不想用纯C++去写QT，尤其是TCP,HTTP,WEBSOCKET,....)

三，为什么...

(因为，GO是为网络而生de.)

---

有人看完上面，该骂街了，其实我已经骂了很久的街了。

用CGO和QT混写，牺牲了什么... 太多...太多

一，性能优势，大大减慢了C++的运行速度.

二，混乱的格式，在GO中混乱的定义一堆，然后到C++里面再混乱的写一堆...

三，混乱的调试，无从查找的错误，很多都包裹在CGO里面，实在是难以查找...

.... 骂街啊.

---

想了许久，总结一下。

既然，既想发挥GO的优势，又想使用QT写界面。

所以，思路要换一换，可能大家已经看到了，网上有很多，GoQT UI, Liteide 库 ...

这些库，使用各种方法，浑身解数，为了做到，在GO中调用C++里面的函数方法。

但是，我觉得这样，既混乱了代码，又牺牲了速度，甚至有些时间，我想把 Go 代码删掉

然后呢，然后用，纯C++写，这样，才清晰，美观，但是当看到，Boost，TCP，HTPP，又怀念那简洁的GO

思路，思路，思路!!!

---

不用，或者尽量少用(C.XXX())，只用(C.Callback()).

这里你要问了，为什么不用，又要只用，我的回答是，只用必须要用的，不必须的坚决不用

必须的只有三个：

	一，初始，C.Init() // 初始化, 准备号存储传递的函数对象
	二，传递，C.CallBack() // 传递, 将CGO函数传递到QT中
	三，入口，C.Start() // 启动 QT 的唯一入口
	... 这样？对就这样？不要再使用任何的 C.XXX() .
	... 你想主动向QT传递什么，都使用CallBack传递过去的函数，获取
	... 这样，是不是简洁了很多，混乱少了很多，但是用C++就要多写一些，CGO少用一些
	... 毕竟在当今社会，C++还是比GO值钱很多.

...


